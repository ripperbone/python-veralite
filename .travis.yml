language: python
sudo: false
python:
- '3.4'
install:
- pip install -r requirements.txt
- pip install coverage
script:
- python -m unittest
- nosetests --with-coverage --cover-package=veralite,device,scene,utils
- python setup.py install
- python setup.py sdist
notifications:
  slack:
    secure: t1+0lvREwDcrpPwFOwL7BVmhlIyWCfEOVGZw6HupNAa5ILbPc2iJgmOfyXDqY4evxcxzCQMO4LX6P0shEJnkdFuLdS2h+EUYj3MlrzL6+10kl+0fj+etaC9BB5Wjpmanf+qDjMtB0GmMGkaMMfJJ2dtqOA+jyCit3KyzHKxAVkG+1Z8awqeUfkcrqeUJB/OcIrGkaTmxB+7YG3NkNGelg2/1VTUFzSjHbzk695VdCX9FcsvI+Eg9f3qoVJN3JKrvRRcQKtDcmKYnYWe+vFZTR7yXWX5KSV9mTQDoVKVJqapGbAjUndzvQ6NnbApG1pCp3gWb9AGa++dFjFzDpvN6aLOX7+00LxLYKDLZ7FKsiVIDi2+tdFitK3zchCdRAbpKiegK68zFU67pOCwmJftFp1GqFq+c4EmSyzaJ9LeNDGMyrIrl8L3QKy63OUDJAsLy82+kNZWpPzUduVDNNrgcX+0d7tPYhj2Shc4GRJcDdJWSrNwAB/xHxPBXoHIhVNIRKDDbjuZ/2ptZAplGiKt1dPDGoNb2+sTiTvEaedQm0Fco+Q9o3OYJzcz1rRgEv6wd1QDuShKmbmSK2u20mP4WMr3dvdU/AKp8+Iy/zxnPUOuuqZAlDIaObEK6jNdr0qEcVw6+hOOB60GZzDZMR1MVxMb8S94RJb6EEpRqkqgPGJE=
deploy:
- provider: pypi
  user: "$pypi_test_user"
  password: "$pypi_test_pass"
  server: "$pypi_test"
  on:
    branch: develop
    python: '3.4'
- provider: pypi
  user: "$pypi_user"
  password: "$pypi_pass"
  server: "$pypi"
  on:
    branch: deploy
    python: '3.4'
env:
  global:
  - secure: RmpypFh4hsi2xqJpaE5bfQiz3kZGW6h6GDxXMI+KizbXn542elM4crsKI5Z+i3OWcsXV1iZCb4t2kOcJnUH481RY/lEMSDxoCHT5o9oimGKirHuWZq0GJc+y8JR1nDQ24Id2Mf2nMiSeJYPGxw8AduHRdyGwAL8XF2cHzIEzwuuJTjkansuwSfN3qZsuO/tCkUS/EkTSyz6/u1mf+kqy8kS9HHENvMcVBkgsRFFNHIavUeNSWXmdnb8iHYU7QSmz75E8TrzEYxgmPwLjC8V+EBmojiHGebMc5eGt0BiWiwJAggZ7aHAxhbnOsH5/nSA8ff1h/P+L7Xj6nvAZ9r6iJbBDLyFQNzXLbpdLQIGnHCuTYtcW4n4M+2JxtlJ4s7ZS17JmuzuDRaRa20TKlCZ967mVPJKSXywYozpMheF7vNyAzrP6Gzoi4LegJwo8k3CNo9I/4WhyHi7Pg3MoUpPtLl4OR2z5HpB7Y69jQfYIfH23bMHMhubCvG3xYz3MxtHeFGEPy6DbO33N6p5bHpbztVB+bhyWlCnSScDqmIjdC6sQCbAqufTSCPfASx3gU6Zi7uJHL8qN+UoTosutDgiHSgSxwdZ5EOemUq6BcHkKkHi57JWTjo9+c4rKVoRlvKWvAy3GKGXZ1YxJBEVCFeDHx2IR6Jvo0Awed05rcz0BCqs=
  - secure: dHxbTkTSwniFrUw9SNS6nce4Kxsh0kcxa4NU5zREI27cnFd4dQ4pOE30zQnrtdV1IJgI31IrItNj3tm8UAXbI09CJiAXXaC6/bZ4O05CScDG4mcC+S5M/xfoocN/uS1HO0VJPVxfmTX+ZGRSTthqbHI5iamGY8iroe3VI1g2xzp88wk2JxCzJr314NdNrh/9KnYAXOdpUhfedhADbUMrAkQdZXWv5ggsXPkOnjcvlbWi+yU0ZGFXbq/cVcNU7KdnUBzAyQ0GwLTMNEAqp9xDyRiZPrZnWEimyvmk08foY1NFwdTminA3n/NYZmDLFs1aWbF07a51Nai8Uhey1g4hjnePkA715RRV/HQssZjOtTwrNBj/K4No6bIyWfJVNVBQO2D1iw/cAthZ9AoZXLijB/qQxHVtSUxQtbkHLPdOstZX+xjpR9IChfZxxtXwss96TCRB+sioLaRYHRsbd3NPQvPafIaibRHk3YYqlp9gd0va9pkCkNP0i9cumIoL3g7oh0XGvSsj1wTpDxunFbTa1/i4HMKI+Q1UBnbJgDlTc8oX7jdIydt9EwVzvaADJeMr9WBXa93h4RmaZg/Drnp9gKHUtfabmk4mQ3tt5XB2LDEKN8aGXsAdk27P0GYqnM6agyZEYizlPjslOHDJKNbtsIg3oI5QbCVoDJ9Agy+hpQg=
